import React, {useEffect, useRef, useState} from "react";

const Veri = ({ isMobile }) => {
  const [isClicked, setIsClicked] = useState(false);
  const [isInView, setIsInView] = useState(false);
  const targetRef = useRef(null);
  
  useEffect(() => {
    const observerOptions = {root: null, rootMargin: '0px', threshold: isMobile ? 0.60 : 0.75};
    const observerCallback = (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          setIsInView(true);
        } else {
          setIsInView(false);
        }
      });
    };
    const observer = new IntersectionObserver(observerCallback, observerOptions);
    if (targetRef.current) {
      observer.observe(targetRef.current);
    }
    return () => {
      if (targetRef.current) {
        observer.unobserve(targetRef.current);
      }
    };
  }, [isMobile]);

  return (
    <>
      <div
        ref={targetRef}
        className={`relative cursor-pointer ${isClicked ? 'veri-hove' : ''} ${isInView ? 'veri-hove' : ''}`}
        onClick={() => setIsClicked(!isClicked)}
      >
        <div className="v-card rounded-3xl w-[23rem] flex flex-col items-center">
          <svg className="veri-tick-1" width="39" height="38" viewBox="0 0 39 38" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M14.8006 2.28052C14.3379 2.67483 14.1065 2.872 13.8594 3.0376C13.293 3.41723 12.6569 3.68071 11.988 3.81277C11.6962 3.87039 11.3932 3.89457 10.7872 3.94293C9.26452 4.06443 8.5032 4.12519 7.86804 4.34953C6.39897 4.86843 5.24343 6.02397 4.72453 7.49304C4.50019 8.1282 4.43943 8.88952 4.31793 10.4122C4.26957 11.0182 4.24539 11.3212 4.18777 11.613C4.05571 12.2819 3.79223 12.918 3.4126 13.4844C3.24699 13.7315 3.04983 13.9629 2.65552 14.4256C1.66479 15.5881 1.1694 16.1694 0.87891 16.7772C0.20703 18.1829 0.20703 19.8171 0.87891 21.2228C1.1694 21.8306 1.66477 22.4119 2.65552 23.5744C3.04979 24.0371 3.247 24.2685 3.4126 24.5156C3.79223 25.082 4.05571 25.7181 4.18777 26.387C4.24539 26.6788 4.26957 26.9818 4.31793 27.5878C4.43943 29.1105 4.50019 29.8718 4.72453 30.507C5.24343 31.976 6.39897 33.1316 7.86804 33.6505C8.5032 33.8748 9.26452 33.9356 10.7872 34.0571C11.3932 34.1054 11.6962 34.1296 11.988 34.1872C12.6569 34.3193 13.293 34.5828 13.8594 34.9624C14.1065 35.128 14.3379 35.3252 14.8006 35.7195C15.9631 36.7102 16.5444 37.2056 17.1522 37.4961C18.5579 38.168 20.1921 38.168 21.5978 37.4961C22.2056 37.2056 22.7869 36.7102 23.9494 35.7195C24.4121 35.3252 24.6435 35.128 24.8906 34.9624C25.457 34.5828 26.0931 34.3193 26.762 34.1872C27.0538 34.1296 27.3568 34.1054 27.9628 34.0571C29.4855 33.9356 30.2468 33.8748 30.882 33.6505C32.351 33.1316 33.5066 31.976 34.0255 30.507C34.2498 29.8718 34.3106 29.1105 34.4321 27.5878C34.4804 26.9818 34.5046 26.6788 34.5622 26.387C34.6943 25.7181 34.9578 25.082 35.3374 24.5156C35.503 24.2685 35.7002 24.0371 36.0945 23.5744C37.0852 22.4119 37.5806 21.8306 37.8711 21.2228C38.543 19.8171 38.543 18.1829 37.8711 16.7772C37.5806 16.1694 37.0852 15.5881 36.0945 14.4256C35.7002 13.9629 35.503 13.7315 35.3374 13.4844C34.9578 12.918 34.6943 12.2819 34.5622 11.613C34.5046 11.3212 34.4804 11.0182 34.4321 10.4122C34.3106 8.88952 34.2498 8.1282 34.0255 7.49304C33.5066 6.02397 32.351 4.86843 30.882 4.34953C30.2468 4.12519 29.4855 4.06443 27.9628 3.94293C27.3568 3.89457 27.0538 3.87039 26.762 3.81277C26.0931 3.68071 25.457 3.41723 24.8906 3.0376C24.6435 2.87199 24.4121 2.67483 23.9494 2.28052C22.7869 1.28977 22.2056 0.7944 21.5978 0.50391C20.1921 -0.16797 18.5579 -0.16797 17.1522 0.50391C16.5444 0.794399 15.9631 1.28978 14.8006 2.28052ZM27.6846 14.94C28.2885 14.3361 28.2885 13.357 27.6846 12.7531C27.0807 12.1492 26.1017 12.1492 25.4978 12.7531L16.2823 21.9686L13.2522 18.9384C12.6483 18.3346 11.6692 18.3346 11.0653 18.9384C10.4614 19.5423 10.4614 20.5214 11.0653 21.1253L15.1889 25.2489C15.7928 25.8527 16.7718 25.8527 17.3757 25.2489L27.6846 14.94Z"
                  fill="#7680B0"/>
          </svg>
          <svg className="veri-tick-2" width="38" height="38" viewBox="0 0 38 38" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M14.4256 2.28052C13.9629 2.67483 13.7315 2.872 13.4844 3.0376C12.918 3.41723 12.2819 3.68071 11.613 3.81277C11.3212 3.87039 11.0182 3.89457 10.4122 3.94293C8.88952 4.06443 8.1282 4.12519 7.49304 4.34953C6.02397 4.86843 4.86843 6.02397 4.34953 7.49304C4.12519 8.1282 4.06443 8.88952 3.94293 10.4122C3.89457 11.0182 3.87039 11.3212 3.81277 11.613C3.68071 12.2819 3.41723 12.918 3.0376 13.4844C2.87199 13.7315 2.67483 13.9629 2.28052 14.4256C1.28979 15.5881 0.794398 16.1694 0.50391 16.7772C-0.16797 18.1829 -0.16797 19.8171 0.50391 21.2228C0.7944 21.8306 1.28977 22.4119 2.28052 23.5744C2.67479 24.0371 2.872 24.2685 3.0376 24.5156C3.41723 25.082 3.68071 25.7181 3.81277 26.387C3.87039 26.6788 3.89457 26.9818 3.94293 27.5878C4.06443 29.1105 4.12519 29.8718 4.34953 30.507C4.86843 31.976 6.02397 33.1316 7.49304 33.6505C8.1282 33.8748 8.88952 33.9356 10.4122 34.0571C11.0182 34.1054 11.3212 34.1296 11.613 34.1872C12.2819 34.3193 12.918 34.5828 13.4844 34.9624C13.7315 35.128 13.9629 35.3252 14.4256 35.7195C15.5881 36.7102 16.1694 37.2056 16.7772 37.4961C18.1829 38.168 19.8171 38.168 21.2228 37.4961C21.8306 37.2056 22.4119 36.7102 23.5744 35.7195C24.0371 35.3252 24.2685 35.128 24.5156 34.9624C25.082 34.5828 25.7181 34.3193 26.387 34.1872C26.6788 34.1296 26.9818 34.1054 27.5878 34.0571C29.1105 33.9356 29.8718 33.8748 30.507 33.6505C31.976 33.1316 33.1316 31.976 33.6505 30.507C33.8748 29.8718 33.9356 29.1105 34.0571 27.5878C34.1054 26.9818 34.1296 26.6788 34.1872 26.387C34.3193 25.7181 34.5828 25.082 34.9624 24.5156C35.128 24.2685 35.3252 24.0371 35.7195 23.5744C36.7102 22.4119 37.2056 21.8306 37.4961 21.2228C38.168 19.8171 38.168 18.1829 37.4961 16.7772C37.2056 16.1694 36.7102 15.5881 35.7195 14.4256C35.3252 13.9629 35.128 13.7315 34.9624 13.4844C34.5828 12.918 34.3193 12.2819 34.1872 11.613C34.1296 11.3212 34.1054 11.0182 34.0571 10.4122C33.9356 8.88952 33.8748 8.1282 33.6505 7.49304C33.1316 6.02397 31.976 4.86843 30.507 4.34953C29.8718 4.12519 29.1105 4.06443 27.5878 3.94293C26.9818 3.89457 26.6788 3.87039 26.387 3.81277C25.7181 3.68071 25.082 3.41723 24.5156 3.0376C24.2685 2.87199 24.0371 2.67483 23.5744 2.28052C22.4119 1.28977 21.8306 0.7944 21.2228 0.50391C19.8171 -0.16797 18.1829 -0.16797 16.7772 0.50391C16.1694 0.794399 15.5881 1.28978 14.4256 2.28052ZM27.3096 14.94C27.9135 14.3361 27.9135 13.357 27.3096 12.7531C26.7057 12.1492 25.7267 12.1492 25.1228 12.7531L15.9073 21.9686L12.8772 18.9384C12.2733 18.3346 11.2942 18.3346 10.6903 18.9384C10.0864 19.5423 10.0864 20.5214 10.6903 21.1253L14.8139 25.2489C15.4178 25.8527 16.3968 25.8527 17.0007 25.2489L27.3096 14.94Z"
                  fill="url(#paint0_linear_15371_26369)"/>
            <defs>
              <linearGradient id="paint0_linear_15371_26369" x1="16.9875" y1="16.0775" x2="22.7006" y2="39.4734"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
            </defs>
          </svg>
          <p
            className={`card-head-blue py-3 w-full ${isInView ? 'card-head-blue2' : ''}`}
            style={{borderBottom: '1px solid #D5DAEF', width: '110%'}}
          >
            Get Veirifed instantly
          </p>
          <div className="gray-card flex gap-2 mt-4">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="18" height="18" rx="9" fill="#3593FF"/>
              <path fillRule="evenodd" clipRule="evenodd"
                    d="M14.1283 5.35147C14.6239 5.8201 14.6239 6.5799 14.1283 7.04853L8.20517 12.6485C7.70951 13.1172 6.90588 13.1172 6.41021 12.6485L3.87175 10.2485C3.37608 9.7799 3.37608 9.0201 3.87175 8.55147C4.36741 8.08284 5.17105 8.08284 5.66671 8.55147L7.30769 10.1029L12.3333 5.35147C12.829 4.88284 13.6326 4.88284 14.1283 5.35147Z"
                    fill="white"/>
              <rect width="18" height="18" rx="9" fill="#3593FF"/>
              <path fillRule="evenodd" clipRule="evenodd"
                    d="M14.1283 5.35147C14.6239 5.8201 14.6239 6.5799 14.1283 7.04853L8.20517 12.6485C7.70951 13.1172 6.90588 13.1172 6.41021 12.6485L3.87175 10.2485C3.37608 9.7799 3.37608 9.0201 3.87175 8.55147C4.36741 8.08284 5.17105 8.08284 5.66671 8.55147L7.30769 10.1029L12.3333 5.35147C12.829 4.88284 13.6326 4.88284 14.1283 5.35147Z"
                    fill="white"/>
            </svg>
            <p className="card-gray-text font-10 fw-bold"> verified ID card</p>
          </div>
          <div className="gray-card flex gap-2 mt-2">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="18" height="18" rx="9" fill="#3593FF"/>
              <path fillRule="evenodd" clipRule="evenodd"
                    d="M14.1283 5.35147C14.6239 5.8201 14.6239 6.5799 14.1283 7.04853L8.20517 12.6485C7.70951 13.1172 6.90588 13.1172 6.41021 12.6485L3.87175 10.2485C3.37608 9.7799 3.37608 9.0201 3.87175 8.55147C4.36741 8.08284 5.17105 8.08284 5.66671 8.55147L7.30769 10.1029L12.3333 5.35147C12.829 4.88284 13.6326 4.88284 14.1283 5.35147Z"
                    fill="white"/>
              <rect width="18" height="18" rx="9" fill="#3593FF"/>
              <path fillRule="evenodd" clipRule="evenodd"
                    d="M14.1283 5.35147C14.6239 5.8201 14.6239 6.5799 14.1283 7.04853L8.20517 12.6485C7.70951 13.1172 6.90588 13.1172 6.41021 12.6485L3.87175 10.2485C3.37608 9.7799 3.37608 9.0201 3.87175 8.55147C4.36741 8.08284 5.17105 8.08284 5.66671 8.55147L7.30769 10.1029L12.3333 5.35147C12.829 4.88284 13.6326 4.88284 14.1283 5.35147Z"
                    fill="white"/>
            </svg>
            <p className="card-gray-text font-10 fw-bold"> proof of address</p>
          </div>
        </div>
        <div className="v-card flex flex-col items-center justify-center veri2 rounded-lg">
          <svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M38.25 4.5C43.9705 4.5 48.0345 4.50478 51.1175 4.91928C54.1357 5.32508 55.8747 6.08608 57.1443 7.35571C58.6057 8.81712 59.2418 9.94998 59.5942 11.9695C59.9914 14.2458 60 17.4927 60 23.25C60 24.4926 61.0074 25.5 62.25 25.5C63.4927 25.5 64.5 24.4926 64.5 23.25L64.5 22.9611C64.5002 17.5635 64.5003 13.9071 64.0272 11.196C63.5009 8.17996 62.3796 6.22704 60.3263 4.17373C58.0812 1.92864 55.2344 0.932291 51.7171 0.459407C48.2995 -8.20756e-05 43.9326 -4.5386e-05 38.4193 9.26987e-07H38.25C37.0074 9.26987e-07 36 1.00736 36 2.25C36 3.49264 37.0074 4.5 38.25 4.5Z"
              fill="url(#paint0_linear_15371_26385)"/>
            <path
              d="M2.25002 39C3.49266 39 4.50002 40.0074 4.50002 41.25C4.50002 47.0073 4.50866 50.2542 4.90586 52.5305C5.25826 54.55 5.89432 55.6829 7.35573 57.1443C8.62535 58.4139 10.3643 59.1749 13.3826 59.5807C16.4656 59.9952 20.5296 60 26.25 60C27.4927 60 28.5 61.0074 28.5 62.25C28.5 63.4926 27.4927 64.5 26.25 64.5H26.0808C20.5675 64.5001 16.2006 64.5001 12.7829 64.0406C9.26568 63.5677 6.41883 62.5714 4.17374 60.3263C2.12043 58.273 0.999128 56.32 0.472848 53.304C-0.000232682 50.5929 -0.000136763 46.9366 4.85966e-06 41.5391L1.57673e-05 41.25C1.57673e-05 40.0074 1.00738 39 2.25002 39Z"
              fill="url(#paint1_linear_15371_26385)"/>
            <path
              d="M62.25 39C63.4927 39 64.5 40.0074 64.5 41.25L64.5 41.539C64.5002 46.9365 64.5003 50.5929 64.0272 53.304C63.5009 56.32 62.3796 58.273 60.3263 60.3263C58.0812 62.5714 55.2344 63.5677 51.7171 64.0406C48.2994 64.5001 43.9325 64.5001 38.4193 64.5H38.25C37.0074 64.5 36 63.4926 36 62.25C36 61.0074 37.0074 60 38.25 60C43.9705 60 48.0345 59.9952 51.1175 59.5807C54.1357 59.1749 55.8747 58.4139 57.1443 57.1443C58.6057 55.6829 59.2418 54.55 59.5942 52.5305C59.9914 50.2542 60 47.0073 60 41.25C60 40.0074 61.0074 39 62.25 39Z"
              fill="url(#paint2_linear_15371_26385)"/>
            <path
              d="M26.0808 9.26987e-07H26.25C27.4927 9.26987e-07 28.5 1.00736 28.5 2.25C28.5 3.49264 27.4927 4.5 26.25 4.5C20.5296 4.5 16.4656 4.50478 13.3826 4.91928C10.3643 5.32508 8.62535 6.08608 7.35573 7.35571C5.89432 8.81712 5.25826 9.94998 4.90586 11.9695C4.50866 14.2458 4.50002 17.4927 4.50002 23.25C4.50002 24.4926 3.49266 25.5 2.25002 25.5C1.00738 25.5 1.57673e-05 24.4926 1.57673e-05 23.25L4.85966e-06 22.9611C-0.000136763 17.5636 -0.000232682 13.9071 0.472848 11.196C0.999128 8.17996 2.12043 6.22704 4.17374 4.17373C6.41883 1.92864 9.26568 0.932291 12.7829 0.459407C16.2006 -8.20309e-05 20.5675 -4.5386e-05 26.0808 9.26987e-07Z"
              fill="url(#paint3_linear_15371_26385)"/>
            <path id="path1"
                  d="M32.25 28.5C30.1789 28.5 28.5 30.1789 28.5 32.25C28.5 34.3211 30.1789 36 32.25 36C34.3211 36 36 34.3211 36 32.25C36 30.1789 34.3211 28.5 32.25 28.5Z"
                  fill="url(#paint4_linear_15371_26385)"/>
            <path id="path2" fillRule="evenodd" clipRule="evenodd"
                  d="M13.9273 38.4294C12.1424 36.359 11.25 35.3238 11.25 32.25C11.25 29.1762 12.1424 28.141 13.9273 26.0706C17.4911 21.9367 23.4681 17.25 32.25 17.25C41.032 17.25 47.0089 21.9367 50.5727 26.0706C52.3576 28.141 53.25 29.1762 53.25 32.25C53.25 35.3238 52.3576 36.359 50.5727 38.4294C47.0089 42.5633 41.032 47.25 32.25 47.25C23.4681 47.25 17.4911 42.5633 13.9273 38.4294ZM24 32.25C24 27.6937 27.6937 24 32.25 24C36.8064 24 40.5 27.6937 40.5 32.25C40.5 36.8064 36.8064 40.5 32.25 40.5C27.6937 40.5 24 36.8064 24 32.25Z"
                  fill="url(#paint5_linear_15371_26385)"/>
            <defs>
              <linearGradient id="paint0_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
              <linearGradient id="paint1_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
              <linearGradient id="paint2_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
              <linearGradient id="paint3_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
              <linearGradient id="paint4_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
              <linearGradient id="paint5_linear_15371_26385" x1="28.8341" y1="27.2895" x2="38.5313" y2="67.001"
                              gradientUnits="userSpaceOnUse">
                <stop offset="0.0076178" stopColor="#00D2D3"/>
                <stop offset="0.91" stopColor="#00B3FF"/>
              </linearGradient>
            </defs>
          </svg>
          <p className="card-head-blue mt-3 px-4">Quick Review</p>
        </div>
      </div>
    </>
  );
}

export default Veri;